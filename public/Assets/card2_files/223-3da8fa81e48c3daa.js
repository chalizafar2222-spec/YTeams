!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8ee3666a-1557-4d4f-b135-7b807afe2a84",e._sentryDebugIdIdentifier="sentry-dbid-8ee3666a-1557-4d4f-b135-7b807afe2a84")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[223],{54907:function(e,t,n){n.d(t,{CJ:function(){return u},F1:function(){return l},fK:function(){return s},hA:function(){return a},kd:function(){return i},lY:function(){return o},vo:function(){return r}}),n(9299);var r="$sprinkles-text-xl sm:$sprinkles-text-2xl lg:$sprinkles-text-3xl $font-semibold $text-surface-foreground-0 $mb-10",i="$sprinkles-text-xl sm:$sprinkles-text-2xl lg:$sprinkles-text-3xl $font-semibold $text-surface-foreground-0 $mb-10 $text-center",l="_1a81dk51",a="$sprinkles-text-lg text-surface-foreground-1",o="_1a81dk55",s="text-surface-accent-0 $font-bold",u="$sprinkles-text-lg text-surface-foreground-1 $text-center $mb-50 $px-0 xs:$px-30"},69223:function(e,t,n){n.d(t,{P:function(){return d}});var r=n(97458),i=n(33523),l=n(7616),a=n(32950),o=n(25839),s=n(10934),u=n(13665);let c=["author"],d=e=>{let{keyword:t}=e,n=(0,a.Jn)("format"),d=(0,s.i)(),m=(0,l.Dv)(o.IS),f=(0,l.Dv)(o.zg);return d?null:"B"===m&&f?(0,r.jsx)(u.Z,{}):t?n&&c.includes(n)?null:(0,r.jsxs)("h1",{className:"flex min-h-[24px] items-center pt-5 text-base font-semibold text-surface-foreground-2",children:[(0,r.jsx)(i.O.Rect,{className:"h-4 w-96"}),(0,r.jsx)(i.O.Rect,{className:"ml-2 h-4 w-28"}),(0,r.jsx)("div",{className:"inline-flex pl-1 text-sm font-normal text-surface-foreground-2",children:(0,r.jsx)(i.O.Rect,{className:"ml-2 h-4 w-28"})})]}):(0,r.jsx)("div",{className:"$mb-20"})}},18377:function(e,t,n){n.d(t,{e:function(){return s},d:function(){return a.d}});var r=n(97458),i=n(53344),l=n.n(i),a=n(54565);let o=l()(()=>n.e(6106).then(n.bind(n,76106)).then(e=>e.EnabledClipboardNotSupportedAdvice),{loadableGenerated:{webpack:()=>[76106]},ssr:!1}),s=()=>(0,a.Q)()?null:(0,r.jsx)(o,{})},54565:function(e,t,n){n.d(t,{Q:function(){return l},d:function(){return a}});var r=n(7616);let i=(0,n(24399).cn)(!0),l=()=>(0,r.Dv)(i),a=()=>(0,r.b9)(i)},38794:function(e,t,n){n.d(t,{X:function(){return l}});var r=n(97458),i=n(33523);let l=e=>{let{length:t=1,className:n}=e;return Array.from({length:t},(e,t)=>t).map(e=>(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)(i.O.Rect,{style:{height:340},className:"$mb-20 $w-full"}),(0,r.jsx)(i.O.Rect,{className:"$mb-10 $h-20 $w-1/3"}),(0,r.jsx)(i.O.Rect,{className:"$h-15 $w-1/2"})]},e))}},66209:function(e,t,n){n.d(t,{I:function(){return s},N:function(){return a.N}});var r=n(97458),i=n(53344),l=n.n(i),a=n(81087);let o=l()(()=>Promise.all([n.e(978),n.e(8512)]).then(n.bind(n,78512)).then(e=>e.ConfirmSafariClipboardComponent),{loadableGenerated:{webpack:()=>[78512]},ssr:!1}),s=()=>{let{onSucess:e}=(0,a.N)();return e&&(0,r.jsx)(o,{})}},81087:function(e,t,n){n.d(t,{N:function(){return l}});var r=n(7616);let i=(0,n(24399).cn)(null),l=()=>{let[e,t]=(0,r.KO)(i);return{onClose:()=>t(null),setConfirm:e=>t({onSuccess:e}),onSucess:null==e?void 0:e.onSuccess}}},63123:function(e,t,n){n.d(t,{CC:function(){return i},KW:function(){return a},NG:function(){return r},jN:function(){return l}});let r=124,i=180,l=140,a=160},70870:function(e,t,n){n.d(t,{n:function(){return l}});var r=n(2209),i=n(52983);let l=e=>{let[t,n]=(0,i.useState)({height:null,width:null}),l=(0,i.useCallback)(()=>{let t=null==e?void 0:e.current;if(!t)return;let{width:r,height:i}=t.getBoundingClientRect();n({width:r,height:i})},[e]),a=(0,r.y)(l,500);return(0,i.useEffect)(()=>{l();let t=null==e?void 0:e.current,n=new ResizeObserver(a);return t&&n.observe(t),()=>{t&&n.unobserve(t)}},[a,l,e]),t}},29085:function(e,t,n){n.d(t,{Q:function(){return r}});let r=(0,n(52983).createContext)(null)},20339:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(97458),i=n(65122),l=n(52983),a=n(29085);let o=e=>{let{children:t,thumbnailHeight:n}=e,[o,s]=(0,l.useState)(!1),u=(0,i.e)(),c=(0,l.useCallback)(()=>{u||n<90||s(!0)},[u,n]),d=(0,l.useCallback)(()=>{s(!1)},[]),m=(0,l.useMemo)(()=>({attributionEnabled:o,showAttribution:c,hideAttribution:d,thumbnailHeight:n}),[o,d,c,n]);return(0,l.useEffect)(()=>{o&&setTimeout(()=>{d()},15e3)},[o,d]),(0,r.jsx)(a.Q.Provider,{value:m,children:t})}},50987:function(e,t,n){n.d(t,{J:function(){return l}});var r=n(52983),i=n(29085);let l=()=>{let e=(0,r.useContext)(i.Q);if(null===e)throw Error("useAttributionThumbnailState must be used within a AttributionThumbnailContext");return e}},52294:function(e,t,n){n.d(t,{N:function(){return u}});var r=n(97458),i=n(770),l=n(9249),a=n(24985),o=n(10893),s=n(59470);let u=()=>{let{t:e}=(0,o.$G)("common");return(0,r.jsxs)("span",{className:s.q,children:[(0,r.jsx)(l.T,{children:e("generatedByAI")}),(0,r.jsx)(i.J,{as:a.Z,size:"sm",className:"$text-white"})]})}},4784:function(e,t,n){n.d(t,{s:function(){return c}});var r=n(97458),i=n(86101),l=n(770),a=n(9249),o=n(92336),s=n(10893),u=n(70654);let c=()=>{let{t:e}=(0,s.$G)("detail");return(0,r.jsx)(i.u,{side:"bottom",trigger:(0,r.jsxs)("span",{className:u.z7,children:[(0,r.jsx)(a.T,{children:"Premium"}),(0,r.jsx)(l.J,{as:o.Z,size:"base",className:"text-white"})]}),backgroundColor:"grayEbony",colorText:"white",zIndex:2,hideOnLeaveHover:!0,className:u.Db,arrowClassName:u.Ri,defaultPadding:!1,children:e("checkedCrownTooltip")})}},70654:function(e,t,n){n.d(t,{Db:function(){return i},Ri:function(){return l},z7:function(){return r}});let r="flex size-[29px] items-center justify-center rounded-full",i="max-w-[200px] p-2 text-center",l="text-surface-foreground-0"},41776:function(e,t,n){n.d(t,{w:function(){return p}});var r=n(97458),i=n(86101),l=n(54455),a=n(770),o=n(9249),s=n(83273),u=n(10893),c=n(13745),d=n(52983),m=n(65724);let f=e=>{let{children:t,location:n,category:i,action:l,urlParams:a,className:o,onButtonClick:s=()=>void 0,resourceData:u,modalType:f="premiumContent"}=e,g=(0,m.W)(),p=(0,d.useMemo)(()=>({category:i,location:n,action:l,resource_id:u.id}),[l,i,u.id,n]),[h,v]=(0,c.n9)(p);return(0,d.useEffect)(()=>{h()},[h]),(0,r.jsx)("button",{className:o,onClick:()=>{s(),v(),g({checkoutQueryParams:a,modalType:f,resourceData:u,origin:n})},children:t})};var g=n(70654);let p=e=>{let{resource:t,urlParams:n,category:c}=e,{t:d}=(0,u.$G)(["common","detail"]),m=(0,l.E)(),p=(0,r.jsxs)("span",{className:g.z7,children:[(0,r.jsx)(o.T,{children:"Premium"}),(0,r.jsx)(a.J,{as:s.Z,size:"sm",className:"$text-yellowPremium"})]});return(0,r.jsxs)(i.u,{side:"bottom",trigger:p,backgroundColor:"grayEbony",colorText:"white",zIndex:2,className:g.Db,defaultPadding:!1,arrowClassName:g.Ri,children:[d("detail:premiumCrownTooltip")," ",(0,r.jsx)(f,{className:"$text-yellowSin inline-flex text-sm font-semibold",location:"thumbnail",urlParams:n,category:c,action:m?"upgrade":"get_plan",resourceData:t,children:d(m?"common:upgrade":"common:goPremium")})]})}},59470:function(e,t,n){n.d(t,{q:function(){return r}});let r="flex size-8 items-center justify-center rounded-full bg-overlay-dialog"},26237:function(e,t,n){n.d(t,{k:function(){return u}});var r=n(97458),i=n(52600),l=n(18503),a=n(52983),o=n(73527);let s=e=>e.nodeType===Node.ELEMENT_NODE,u=e=>{let{children:t,className:n}=e,u=(0,a.useRef)(null),g=(0,o.f)();return c(()=>{let e;let t=()=>window.matchMedia("(min-width: ".concat(g?i.BREAKPOINTS["2xs"]:i.BREAKPOINTS.xs,"px)")).matches,n=u.current;if(!n)return;let r=Array.from(n.children);if(!(null==r?void 0:r.length))return;let l=()=>{let e=t(),i=parseInt(window.getComputedStyle(n).getPropertyValue("grid-row-gap")),l=d(r);l.forEach((t,n)=>{if(!(t.element instanceof HTMLElement)||(t.element.style.marginTop="0",!e))return;let r=m(t.element),a=n-1;for(;a>=0;){let e=l[a];if(s(e.element)&&e.left===t.left){t.element.style.marginTop=-(r-f(e.element)-i)+"px";break}a-=1}})},a=()=>{cancelAnimationFrame(e),e=requestAnimationFrame(l)};return t()&&a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(e)}},[t,n]),(0,r.jsx)("div",{ref:u,className:(0,l.m)("$grid $items-start $grid-cols-1",g?"$gap-[24px] sm:$grid-cols-2 md:$grid-cols-3 2xl-legacy:$grid-cols-4":"$gap-30 xs:$grid-cols-2 md:$grid-cols-3 xl:$grid-cols-4 2xl-legacy:$grid-cols-5",n),children:t})},c=a.useLayoutEffect,d=e=>e.map(e=>({element:e,left:e.getBoundingClientRect().left})),m=e=>e.getBoundingClientRect().top+window.scrollY,f=e=>e.getBoundingClientRect().bottom+window.scrollY},38012:function(e,t,n){n.d(t,{p:function(){return r}});let r=(0,n(57291).cx)("hover:bg-surface-3 h-10 flex font-semibold items-center justify-center gap-2 cursor-pointer bg-surface-0 text-surface-foreground-0 hover:bg-surface-0/20 focus:bg-surface-0/30 rounded-full text-xs pointer-events-auto")},10997:function(e,t,n){n.d(t,{K:function(){return r}});let r=(0,n(52983).createContext)(void 0)},33956:function(e,t,n){n.d(t,{T:function(){return r}});let r=(0,n(52983).createContext)(void 0)},5298:function(e,t,n){n.d(t,{t:function(){return s}});var r=n(97458),i=n(52983),l=n(73459),a=n(10997),o=n(33956);let s=e=>{let{children:t,resourceId:n}=e,[s,u]=(0,i.useState)(!1);(0,l.n)((0,i.useCallback)(()=>{u(!1)},[])),(0,i.useEffect)(()=>{u(!1)},[n]);let c=(0,i.useMemo)(()=>({openPostDownload:()=>u(!0),closePostDownload:()=>u(!1)}),[u]);return(0,r.jsx)(o.T.Provider,{value:s,children:(0,r.jsx)(a.K.Provider,{value:c,children:t})})}},88382:function(e,t,n){n.d(t,{e:function(){return s}});var r=n(97458),i=n(33523),l=n(18503),a=n(26237);let o=Array.from({length:n(61821).a5},(e,t)=>t),s=e=>{let{className:t}=e;return(0,r.jsx)(a.k,{children:o.map(e=>(0,r.jsx)("div",{className:"$flex $aspect-square $w-full $items-center $justify-center",children:(0,r.jsx)(i.O.Rect,{className:(0,l.m)("$h-full rounded-xl",t)})},e))})}},32736:function(e,t,n){n.d(t,{j:function(){return s},e:function(){return o.e}});var r=n(97458),i=n(69223),l=n(48936),a=n(5704),o=n(88382);let s=()=>{let e=(0,a.Jn)("term");return(0,r.jsx)(l.f,{introContent:(0,r.jsx)(i.P,{keyword:e}),children:(0,r.jsx)(o.e,{})})}},74801:function(e,t,n){n.d(t,{R:function(){return d}});var r=n(97458),i=n(23113),l=n(53344),a=n.n(l),o=n(52983),s=n(51125),u=n(71788),c=n(67651);let d=e=>{let{item:t,position:l,fromView:d,children:m,isModal:f,priority:g,uuid:p,resizeParameter:h,blockViewSimilar:v}=e,x=a()(()=>Promise.resolve().then(n.bind(n,51125)).then(e=>e.ActionsThumbnail),{loadableGenerated:{webpack:()=>[51125]},ssr:!1}),{id:b,name:w,author:z,type:j,preview:{url:y},premium:k,slug:E,isEditableInWepik:_,isEditableInMockup:S,isAIGenerated:N,url:C}=t,$="".concat((0,u.k)(k,j),"/").concat(E,"_").concat(b,".htm"),T=(0,o.useRef)(null),R=(0,i.a)("sm"),I=!(0,c.h)(z.id),D=(0,o.isValidElement)(m)?(0,o.cloneElement)(m,{containerRef:T}):m;return(0,r.jsx)(s.ImageThumbnail,{item:t,position:l,fromView:d,ref:T,isModal:f,dataCy:"resource-thumbnail",priority:g,uuid:p,resizeParameter:h,blockViewSimilar:v,children:R&&(0,r.jsx)(x,{id:b,name:w,author:z,media:y,url:$,description:w,isDownloadEnabled:I,thumbnailRef:T,width:t.preview.width,height:t.preview.height,isEditableInWepik:_,isEditableInMockup:S,premium:k,type:j,isAIGenerated:N,detailLink:C,fromView:d,children:D})})}},13665:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(97458),i=n(57291),l=n(7616),a=n(22688),o=n(25839),s=n(10934),u=n(86555),c=n(5704);let d=()=>{let e=(0,l.Dv)(o.zg),t=(0,c.Jn)("term");return null!=e?e:t};var m=n(770),f=n(27488),g=n(10893),p=n(52983);let h=()=>{let[e,t]=(0,p.useState)(""),n=(0,l.Dv)(o.Sf),a=(0,l.Dv)(o.pu),s=(0,l.Dv)(o.Ck),u=d();return(0,p.useEffect)(()=>{if(n){var e,r;let n=null!==(r=null==s?void 0:null===(e=s.current)||void 0===e?void 0:e.value)&&void 0!==r?r:"";t(a||n||u)}},[n,a,s,u]),(0,r.jsxs)("div",{className:(0,i.cx)("flex items-center gap-2 transition-all duration-500 ease-out text-surface-foreground-1 font-lg max-w-screen-lg",n?"opacity-100 h-auto mt-5":"opacity-0 h-0"),children:[(0,r.jsx)(m.J,{as:f.Z,size:"sm",className:"shrink-0"}),(0,r.jsx)("div",{className:"min-w-0 truncate",children:(0,r.jsx)(g.cC,{i18nKey:"searchBar:assistant.aiSearchingFor",values:{prompt:e}})})]})};var v=n(59251),x=n(58058),b=n.n(x),w=n(32950),z=n(82935);let j="/pikaso/assistant",y={icon:"/ai/icon-generator/tool",video:"/pikaso/ai-video-generator"},k=()=>{var e;let t=(0,w.Jn)("type"),n=(0,z.L)(),r=null!==(e=y[t])&&void 0!==e?e:j,i=n(r);return e=>{let t=new URLSearchParams({prompt:e,from_element:"search_assistant"});r===j&&t.set("submit","true"),window.open("".concat(i,"?").concat(t.toString()),"_blank","noopener,noreferrer")}},E=e=>{let{as:t,children:n,className:l,...a}=e;return(0,r.jsx)(null!=t?t:"button",{...a,className:(0,i.cx)("rounded-full min-w-max bg-piki-blue-500/10 px-4 py-2 text-sm text-primary-1 hover:bg-piki-blue-500/20 dark:text-surface-foreground-accent-0 gap-2 flex items-center",l),"data-cy":"smart-search-suggestion",children:n})},_=()=>{let{t:e}=(0,g.$G)("searchBar"),t=(0,w.Jn)("term"),{suggestedPrompt:n}=(0,u.q)(),i=k();return n?(0,r.jsxs)(E,{onClick:()=>i(n),children:[(0,r.jsx)(m.J,{as:f.Z,size:"sm"}),(0,r.jsx)(g.cC,{t:e,i18nKey:"assistant.form.generateFromAssistant",values:{searchTerm:t}})]}):null},S=()=>{let{suggestedTerms:e,suggestedFilters:t}=(0,u.q)();return e&&(null==e?void 0:e.length)>0||t&&(null==t?void 0:t.length)>0?(0,r.jsx)("div",{className:"flex w-full",children:(0,r.jsx)(v.Draggable,{children:(0,r.jsxs)("div",{className:"relative flex gap-2","data-cy":"smart-search-suggestions",children:[(0,r.jsx)(_,{}),null==e?void 0:e.map(e=>{let{term:t,href:n,onClick:i}=e;return(0,r.jsx)(b(),{href:n,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(E,{as:"a",onClick:i,children:t})},t)}),null==t?void 0:t.map(e=>{let{key:t,description:n,href:i,onClick:l}=e;return(0,r.jsx)(b(),{href:i,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(E,{as:"a",onClick:l,children:n})},t)})]})})}):(0,r.jsx)(_,{})},N=()=>{let{message:e}=(0,u.q)(),t=d(),n=(0,l.Dv)(o.Sf),c=(0,s.i)();return(0,r.jsx)("div",{className:(0,i.cx)("mb-7",c&&"px-4 lg:px-10"),children:(0,r.jsxs)("div",{className:"$max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"max-w-screen-lg",children:[t&&(0,r.jsx)(a.D,{title:t}),(0,r.jsx)(h,{})]}),!n&&e&&(0,r.jsxs)("div",{className:"mt-2 flex w-full flex-col gap-4",children:[(0,r.jsx)("p",{className:"max-w-screen-lg text-sm text-surface-foreground-3","data-cy":"smart-search-message",children:e}),(0,r.jsx)(S,{})]})]})})}},86555:function(e,t,n){n.d(t,{q:function(){return _}});var r=n(7616),i=n(52983),l=n(32950),a=n(25839),o=n(91968),s=n(31861),u=n(5704),c=n(35576),d=n(7009),m=n(58443);let f=()=>{let e=(0,m.D)();return(0,i.useCallback)(async t=>{let r="bb6a004a-8f03-4d2a-88fb-a63499d4591a";if(!r)return;let i={userId:null==e?void 0:e.id,uuid:t},{loadSpace:l}=await Promise.resolve().then(n.bind(n,65508)),a=await l(r);a.init({custom:i,useLocalStorage:!0}),a.logEvent("open_survey_search_assistant")},[e])};var g=n(8147),p=n(2209),h=n(8314),v=n(51780),x=n(10893),b=n(1850);let w=b.z.object({message:b.z.string().optional(),suggestedTerms:b.z.array(b.z.string()).optional(),suggestedPrompt:b.z.string().optional(),suggestedFilters:b.z.array(b.z.object({key:b.z.string(),value:b.z.string(),description:b.z.string()})).optional(),filters:b.z.array(b.z.object({key:b.z.string(),value:b.z.string()})).optional()}),z=async e=>{let{uuid:t,term:n,prompt:r,filters:i,walletId:l}=e,a=new URLSearchParams({uuid:t,term:n,prompt:r,walletId:null!=l?l:"",filters:JSON.stringify(i)}),o=await fetch("/api/search/smart?".concat(a.toString()));if(!o.ok)throw Error("There was a problem retrieving the search assistant");return w.parse(await o.json())},j=["term","format","page"],y=()=>{var e,t;let{t:n}=(0,x.$G)("common"),{push:o}=(0,v.useRouter)(),s=null!==(e=(0,u.Jn)("term"))&&void 0!==e?e:"",c=null!==(t=(0,u.Jn)("type"))&&void 0!==t?t:"",d=(0,u.Jn)("img"),m=(0,r.Dv)(a.IS),f=(0,i.useRef)(s),b=(0,i.useRef)(c),w=(0,r.Dv)(u.lh),y=(0,r.Dv)(a.gQ),k=(0,r.b9)(a.nU),E=(0,r.b9)(a.Sf),_=(0,r.b9)(a.Oi),S=(0,g.H)(),{openToast:N}=(0,h.x_)(),C=(0,p.y)(()=>{E(!1),k(!0)},400);return{sendRequest:async e=>{let t=e.trim();if(t)try{var r,i,a;E(!0),k(!1);let e=w.filter(e=>{let[t]=e;return!j.includes(t)}).map(e=>{let[t,n]=e;return{key:t,value:n}}),{message:n,filters:u,suggestedPrompt:g,suggestedTerms:p,suggestedFilters:h}=await z({uuid:y,term:s||t,prompt:t,filters:e,walletId:null==S?void 0:S.walletId}),v=null==p?void 0:p.shift();_({message:n,filters:u,suggestedPrompt:g,suggestedTerms:p,suggestedFilters:h});let x=null!=v?v:s,N=null!==(i=null==u?void 0:null===(r=u.find(e=>{let{key:t}=e;return"type"===t}))||void 0===r?void 0:r.value)&&void 0!==i?i:c;f.current=x,b.current=N;let C=[...null!==(a=null==u?void 0:u.map(e=>{let{key:t,value:n}=e;return[t,n]}))&&void 0!==a?a:[],[l.FILTERS_NAMES.term,f.current],[l.FILTERS_NAMES.format,"B"===m?l.FILTERS_VALUES.format.search:l.FILTERS_VALUES.format.ai]];d&&(C=[...C,[l.FILTERS_NAMES.img,d]]);let $=(0,l.oq)(C),T={pathname:"/search",query:(0,l.E$)($)};o(T)}catch(e){console.error("Search assistant request error:",e),N({type:"danger",title:n("errorTitle"),message:n("errorMessage")})}finally{C()}},currentTerm:f,currentType:b}},k=e=>{let{activeFilters:t,name:n,value:r,aiFormat:i}=e,a=t.filter(e=>{let[t]=e;return t!==l.FILTERS_NAMES.format});a.push([l.FILTERS_NAMES.format,i?l.FILTERS_VALUES.format.ai:l.FILTERS_VALUES.format.search]);let o=(0,l.oq)(a);return{pathname:"/search",query:(0,u.ln)({name:n,value:r},o)}},E=e=>{let{position:t=0,applyFilter:n=[],applyTerm:r="",walletIdParam:i=""}=e,l=new URLSearchParams({partner:"data",event_at:Date.now().toString(),position:t.toString(),...r&&{apply_term:r},...n.length>0&&{apply_filter:n.join(",")}}),a="send&event&".concat(l.toString()).concat(i);(0,c.OA)(a)},_=()=>{var e;let t=(0,i.useRef)(0),n=null!==(e=(0,u.Jn)("term"))&&void 0!==e?e:"",{sendRequest:c,currentTerm:m,currentType:g}=y(),p=(0,r.Dv)(a.IS),[h,v]=(0,r.KO)(a.Oi),{message:x,suggestedTerms:b,suggestedFilters:w,suggestedPrompt:z}=null!=h?h:{},j=f(),[_,S]=(0,r.KO)(s.OR),N=(0,r.Dv)(u.lh),C=(0,r.Dv)(a.gQ),$=(0,o.Y)(),T=(0,d.J)();(0,i.useEffect)(()=>{let e=n!==m.current;_&&(S(!1),e&&($(),t.current=0)),e&&(m.current=n)},[m,n,t,_,S,$]);let R=()=>{t.current+=1,2===t.current&&j(C)},I=(0,i.useCallback)(e=>{if(!b||(null==b?void 0:b.length)===0)return;let t=b.filter((t,n)=>n!==e);v({...h,suggestedTerms:null!=t?t:[]})},[v,h,b]),D=(0,i.useCallback)(e=>{if(!w||(null==w?void 0:w.length)===0)return;let t=w.filter((t,n)=>n!==e);v({...h,suggestedFilters:null!=t?t:[]})},[v,h,w]),L=(e,t,n)=>{"type"===e&&g.current!==t&&(g.current=t),D(n),R(),E({position:n,applyFilter:[e,t],walletIdParam:T})},A=(e,t)=>{m.current=e,I(t),R(),E({position:t,applyTerm:e,walletIdParam:T})};return{userInteractionCounter:t,handleSendRequestToAssistant:async e=>{await c(e),R()},message:x,suggestedTerms:null==b?void 0:b.slice(0,4).map((e,t)=>({term:e,href:k({activeFilters:N,name:l.FILTERS_NAMES.term,value:e,aiFormat:"B"!==p}),onClick:()=>A(e,t)})),suggestedFilters:null==w?void 0:w.slice(0,2).map((e,t)=>{let{key:n,value:r,description:i}=e;return{key:n+r,value:r,description:i,href:k({activeFilters:N,name:n,value:r,aiFormat:"B"!==p}),onClick:()=>L(n,r,t)}}),suggestedPrompt:z,searchTerm:n}}},63081:function(e,t,n){n.d(t,{Bm:function(){return l},Ej:function(){return i}});var r=n(7858);let i="resource_detail",l=[i,"freepik_web_download_limit"];Object.values(r.a2)},71788:function(e,t,n){n.d(t,{k:function(){return i}});var r=n(87420);let i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.$T)("/".concat("".concat(e?"premium":"free"),"-").concat("".concat(n&&"photo"===t?"ai-image":t)))}},55201:function(e,t,n){n.d(t,{h:function(){return r},l:function(){return i}});let r="sendToAISuiteEvent",i="/pikaso"},73459:function(e,t,n){n.d(t,{n:function(){return l}});var r=n(52983),i=n(55201);let l=e=>{(0,r.useEffect)(()=>{let t=()=>{e()};return window.addEventListener(i.h,t),()=>{window.removeEventListener(i.h,t)}},[e])}},37566:function(e,t,n){n.d(t,{D6:function(){return i},De:function(){return o},LH:function(){return a},O3:function(){return l},aV:function(){return u},cT:function(){return c},kr:function(){return s},rC:function(){return d},zT:function(){return m}});var r=n(12976);let i={standard:{premium:["svg"],free:["png"]},animated:{premium:["svg","aep","json"],free:["png","gif","mp4"]},sticker:{premium:["svg"],free:["png"]},uicon:{premium:[],free:["png","svg"]}},l={standard:{primary:"svg",secondary:"png"},animated:{primary:"json",secondary:"gif"},sticker:{primary:"svg",secondary:"png"},uicon:{primary:"svg",secondary:"png"}},a={...l,animated:{primary:"json",secondary:"png"}},o=[512,256,128,64,32,24,16],s=512,u=96,c="".concat(r.p,"/icons/"),d={width:1462,height:820,url:"".concat(c,"meta/icons-meta.png")},m="https://cdn-sprites.flaticon.com/families"},56879:function(e,t,n){n.d(t,{nj:function(){return m},ru:function(){return f}});var r=n(1850);let i=r.z.enum(["photo","vector","psd","icon","template","mockup","ai"]),l=r.z.object({id:r.z.number().int().nullable(),name:r.z.string().nullable(),slug:r.z.string(),avatar:r.z.string(),assets:r.z.number().int()}).transform(e=>{let{id:t,name:n,...r}=e;return{id:t||0,name:n||"",...r}}),a=r.z.object({width:r.z.number(),height:r.z.number()}).extend({url:r.z.string()}),o=r.z.object({slug:r.z.string(),name:r.z.string(),url:r.z.string().optional().nullable()}),s=r.z.array(o).nullable(),u=r.z.object({description:r.z.string().optional().nullable(),term:r.z.string(),original_term_results:r.z.number()}).transform(e=>{let{original_term_results:t,...n}=e;return{originalTermResults:t,...n}});r.z.string().min(4).transform((e,t)=>{try{let t=e.match(/_([^_]+)\.htm/);if(!t)throw Error("ID could not be extracted from code");let n=t[1];return r.z.coerce.number().parse(n)}catch(e){return t.addIssue({code:r.z.ZodIssueCode.custom,message:"ID could not be extracted from code"}),r.z.NEVER}});let c=r.z.object({id:r.z.number(),name:r.z.string(),slug:r.z.string(),url:r.z.string(),premium:r.z.boolean(),new:r.z.boolean(),is_ai_generated:r.z.boolean(),has_prompt:r.z.boolean(),is_editable_in_wepik:r.z.boolean().optional(),is_editable_in_mockup:r.z.boolean().optional().nullable(),type:i,author:l,preview:a,pixel:r.z.string().nullable().optional(),top_search_expressions:s.optional(),prompt:r.z.string().optional().nullable()}),d=r.z.object({name:r.z.string()}),m=c.transform(e=>{let{has_prompt:t,is_ai_generated:n,is_editable_in_wepik:r,top_search_expressions:i,is_editable_in_mockup:l,...a}=e;return{hasPrompt:t,isAIGenerated:n,isEditableInWepik:r||!1,...i&&{topSearchExpressions:i},isEditableInMockup:l||!1,...a}}),f=r.z.enum(["jpg","png","svg","psd","ai","eps","atn","zip","fonts","resources","3d-render"]),g=r.z.object({id:r.z.number().optional(),size:r.z.number(),name:r.z.string().optional(),colorspace:r.z.string().optional(),is_remove_bg:r.z.boolean().optional()}).transform(e=>{let{is_remove_bg:t,...n}=e;return{...t&&{isRemoveBg:t},...n}}),p=r.z.object({total:r.z.number(),items:r.z.array(g)});r.z.record(f,p);let h=r.z.object({current_page:r.z.number(),per_page:r.z.number(),last_page:r.z.number(),total:r.z.number()}).transform(e=>{let{last_page:t,current_page:n,per_page:r,...i}=e;return{...i,lastPage:t,currentPage:n,perPage:r}});r.z.object({data:r.z.array(m),meta:r.z.object({pagination:h,related_collections_total:r.z.number(),related_terms:s,tracking_code:r.z.string(),next_search:u.nullable(),tag_description:r.z.string().optional().nullable(),canonical_path:r.z.string().optional().nullable(),redirect_url:r.z.string().optional().nullable(),cross_search:r.z.string().optional().nullable().default(null),user_customization:r.z.boolean().optional().default(!1),term:r.z.string()}).transform(e=>{let{related_terms:t,related_collections_total:n,tracking_code:r,next_search:i,tag_description:l,canonical_path:a,redirect_url:o,cross_search:s,user_customization:u,...c}=e;return{...c,track:r,relatedTags:t,relatedCollectionsTotal:n,nextSearch:i,tagDescription:l,canonicalPath:a,redirectUrl:o,crossSearch:s,userCustomization:u}})}).transform(e=>{let{data:t,meta:n}=e;return{...n,items:t}}),r.z.object({data:d}).transform(e=>{let{data:t}=e;return{...t}})},18547:function(e,t,n){n.d(t,{$:function(){return o},a:function(){return a}});var r=n(12297),i=n(24399),l=n(73139);let a=(0,l.xu)(e=>{let{locale:t,id:n}=e;return(0,l.n7)((0,i.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/resources/".concat(n,"?locale=").concat(t));if(!e.ok)throw Error("Failed to fetch regular resource ".concat(n));return await e.json()}))},r.vZ),o=(0,i.cn)(!1)},72570:function(e,t,n){n.d(t,{_:function(){return l}});var r=n(52983);let i=r.useLayoutEffect,l=e=>{let[t,n]=(0,r.useState)(!e),l=(0,r.useRef)(e);i(()=>{l.current!==e&&(l.current=e,n(!0))},[e]);let a=(0,r.useCallback)(()=>n(!1),[]);return(0,r.useMemo)(()=>({isLoading:t,loaded:a}),[t,a])}},11569:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M492.9 11.3c-18.4-14.8-43.4-15.1-62.3-.9-40.3 30.6-87.2 74.5-132 123.8-39.8 43.7-74.1 87.3-97.9 124.2-1.2 0-2.3-.1-3.5-.1-36.4 0-67.3 14.7-92 43.7-19.4 22.7-31.5 50.5-40.4 70.7-3.8 8.6-7.3 16.7-10.2 21.5-18.7 31.2-34.6 38-36.2 38.7-9.5 2.6-16.6 10.6-18.1 20.4a25.1 25.1 0 0 0 12.2 25.4C14.9 480 71.4 512 167 512h20c33.4 0 67.5-13.1 93.6-36 28-24.6 43.4-56.8 43.4-90.8 0-8.5-.9-16.9-2.5-25C390.5 277 469 155.4 507.3 71.9c9.8-21.5 4-45.8-14.4-60.6M247.6 438.4c-17.1 15-39.2 23.6-60.6 23.6h-20c-38.3 0-69.2-5.9-91.2-12.1 7-7.9 14.3-17.7 21.7-30 4.5-7.4 8.4-16.5 13.1-27.1 20.3-46.2 40.8-84.5 86.7-84.5 42.4 0 76.8 34.5 76.8 76.8-.1 19.4-9.5 38.3-26.5 53.3m4.8-167.4c9.3-13.5 19.7-27.6 31.1-42 20.3 5 37.7 18.2 48.2 36.3-11.1 15.2-22.1 29.9-33 43.7-12.2-16-28.1-29.1-46.3-38M461.8 51c-22 48-59.2 111.1-99.8 171-12.2-14.4-27.4-26-44.6-33.8C363 135.9 415.9 84.4 460.9 50.3c.2-.1.3-.2.4-.3.3.1.6.4.7.6-.1.1-.1.3-.2.4"})})},92336:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 512 512","aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M504.688 344.692 345.092 504.688c-4.9 4.899-11.3 7.399-17.7 7.399s-12.8-2.4-17.6-7.299L209.695 403.99c-9.8-9.7-9.8-25.599-.1-35.399s25.599-9.8 35.399-.1l82.398 83.098 141.896-142.297c9.8-9.799 25.6-9.799 35.4-.1 9.699 9.9 9.799 25.7 0 35.5m-330.492 94.497c-29.1-29.199-29.2-76.598-.1-105.897 29.199-29.299 76.798-29.399 106.097-.2l.2.2 46.999 47.399 106.397-106.698c8-8.1 17.6-14.099 28.1-17.799V64.998c0-10.3-5.9-19.5-14.8-23.199-9-3.8-19.2-1.3-25.799 6.2l-91.998 125.597L251.194 12.3c-4.2-7.6-11.8-12.3-20.2-12.3s-16.099 4.7-20.199 12.3l-78.198 160.696L40.599 47.899c-6.6-7.5-16.8-10-25.8-6.2C5.9 45.399 0 54.599 0 64.899V389.79c0 39.899 32.3 72.199 72.198 72.199h124.697z"})})},30061:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 512 512","aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M197.008 280.484c-46.405 3.462-105.764 12.088-105.277 28.341.514 17.01 44.242 49.677 101.707 70.96 2.678-34.804 3.327-71.69 3.597-99.274zM27.099 105.248C11.82 105.707.273 99.028.002 89.698c-.216-6.814 14.739-28.124 23.825-31.586 6.247-2.352 36.562-13.845 87.104-15.36 18.741-.568 50.543 1.73 77.396 5.733C344.688 71.661 508.81 190.892 511.947 296.63c2.136 71.96-60.008 139.431-181.348 143.055-31.965.947-61.712-2.975-88.754-10.087-.595 17.659.73 27.016-24.312 27.746-15.333.46-21.282-24.365-23.554-44.539-73.231-32.506-117.365-85.293-117.987-106.143-.92-31.018 55.492-56.897 121.476-67.147.919-25.69 5.273-91.106 18.848-91.485 5.436-.162 16.74 12.467 20.986 31.802 3.867 17.578 4.272 49.624 4.326 55.33l4.976-.19c92.594-2.758 148.059 26.205 149.086 60.495.785 26.583-22.742 40.185-35.101 40.564s-26.799-6.653-26.934-10.466c-.217-7.328 26.339-9.032 25.988-20.85-.541-17.848-74.151-25.663-119.502-25.934-.081 15.361-.27 33.939.108 46.406.352 11.979 1.109 42.943 1.461 68.769 20.579 4.354 41.753 6.707 62.549 6.085 48.893-1.461 160.579-19.282 158.092-103.195-3.408-117.284-235.19-224.968-359.316-221.29-48.893 1.46-78.235 6.706-78.1 11.493.082 3.191 23.798 4.435 24.015 10.763.189 6.328-13.468 7.193-21.824 7.437z"})})},63918:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M269.2 438.4c-100.6 0-182.4-81.8-182.4-182.4S168.6 73.6 269.2 73.6c61.1 0 117.9 30.4 151.8 81.3 7.7 11.5 4.6 27-6.9 34.7s-27 4.6-34.7-6.9c-24.6-37-65.9-59.1-110.2-59.1-73 0-132.4 59.4-132.4 132.4s59.4 132.4 132.4 132.4c44.4 0 85.6-22.1 110.2-59.1 7.7-11.5 23.2-14.6 34.7-6.9s14.6 23.2 6.9 34.7c-33.9 50.9-90.7 81.3-151.8 81.3"})})},11645:function(e,t,n){n.d(t,{u:function(){return l}});var r=n(52983),i=n(8147);let l=()=>{let e=(0,i.H)();return(0,r.useCallback)(t=>{if(!e)return!0;try{let n=e.disabledPermissionsTools;if(!n)return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:"Disabled permissions tools not found"})),!0;return!(t in n)}catch(n){return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:n})),!0}},[e])}},41937:function(e,t,n){n.d(t,{I:function(){return i}});var r=n(8147);let i=()=>{let e=(0,r.H)();return!e||!!(null==e?void 0:e.profile.isAnonymous)}},2394:function(e,t,n){n.d(t,{E:function(){return i}});var r=n(8147);let i=()=>{let e=(0,r.H)();return!!(null==e?void 0:e.profile.isEnterprise)}},54455:function(e,t,n){n.d(t,{E:function(){return i}});var r=n(8147);let i=()=>{let e=(0,r.H)();return!!(null==e?void 0:e.profile.hasSubscriptions)}},90312:function(e,t,n){n.d(t,{e:function(){return l}});var r=n(87420),i=n(50281);let l=()=>{let e=(0,i.A)(),t=(0,r.aw)(),n=(0,r.ZK)();return{signUpUrl:"".concat("es"===n?"https://www.freepik.es/sign-up":"https://www.freepik.com/sign-up","?").concat(t),setLoginCookies:e}}}}]);